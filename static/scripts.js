var cityInputs = document.querySelector('.cityInputs');

function buildCityInputForm(numberOfCities) {
    var html = "";
    html += `<form autocomplete="off"  action="/city_info" method="POST" >` + `<ol>`
    for (var i = 0; i < numberOfCities; i++) {
        html += `<li>` +
            `<p>` +
            `<input type="text" class="userInput" name="${i}" id="${i}"  placeholder="city, state">` +
            `</p>` +
            `</li>`
    }
    html += `</ol>` + `<input type="submit"  value="submit" id="submitCities">` + '</form>' + '</div>';
    cityInputs.innerHTML = html;  //injects the html into the div section
}

document.getElementById("createCityInputs").onclick = function () {
    numberOfCities = document.getElementById("numberOfCities").value
    if (numberOfCities > 0 && numberOfCities < 21 && Number.isInteger(Number(numberOfCities))) {
        buildCityInputForm(document.getElementById("numberOfCities").value)
    } else {
        alert("Please enter a whole number from 1 to 20")
    }
}


// autosuggestion for top ~500 cities by population provided by https://simplemaps.com/data/us-cities

$(document).ready(function () {
    var availableTags = ["New York, New York", "Los Angeles, California", "Chicago, Illinois", "Miami, Florida", "Dallas, Texas", "Philadelphia, Pennsylvania", "Houston, Texas", "Atlanta, Georgia", "Washington, District of Columbia", "Boston, Massachusetts", "Phoenix, Arizona", "Seattle, Washington", "San Francisco, California", "Detroit, Michigan", "San Diego, California", "Minneapolis, Minnesota", "Tampa, Florida", "Denver, Colorado", "Brooklyn, New York", "Queens, New York", "Riverside, California", "Baltimore, Maryland", "Las Vegas, Nevada", "Portland, Oregon", "San Antonio, Texas", "St. Louis, Missouri", "Sacramento, California", "Orlando, Florida", "San Jose, California", "Cleveland, Ohio", "Pittsburgh, Pennsylvania", "Austin, Texas", "Cincinnati, Ohio", "Kansas City, Missouri", "Manhattan, New York", "Indianapolis, Indiana", "Columbus, Ohio", "Charlotte, North Carolina", "Virginia Beach, Virginia", "Bronx, New York", "Milwaukee, Wisconsin", "Providence, Rhode Island", "Jacksonville, Florida", "Salt Lake City, Utah", "Nashville, Tennessee", "Richmond, Virginia", "Memphis, Tennessee", "Raleigh, North Carolina", "New Orleans, Louisiana", "Louisville, Kentucky", "Oklahoma City, Oklahoma", "Bridgeport, Connecticut", "Buffalo, New York", "Fort Worth, Texas", "Hartford, Connecticut", "Tucson, Arizona", "Omaha, Nebraska", "El Paso, Texas", "Honolulu, Hawaii", "McAllen, Texas", "Albuquerque, New Mexico", "Birmingham, Alabama", "Sarasota, Florida", "Dayton, Ohio", "Rochester, New York", "Fresno, California", "Allentown, Pennsylvania", "Tulsa, Oklahoma", "Cape Coral, Florida", "Concord, California", "Colorado Springs, Colorado", "Charleston, South Carolina", "Springfield, Massachusetts", "Grand Rapids, Michigan", "Mission Viejo, California", "Albany, New York", "Knoxville, Tennessee", "Bakersfield, California", "Ogden, Utah", "Baton Rouge, Louisiana", "Akron, Ohio", "New Haven, Connecticut", "Columbia, South Carolina", "Mesa, Arizona", "Palm Bay, Florida", "Provo, Utah", "Worcester, Massachusetts", "Murrieta, California", "Greenville, South Carolina", "Wichita, Kansas", "Toledo, Ohio", "Staten Island, New York", "Des Moines, Iowa", "Long Beach, California", "Port St. Lucie, Florida", "Denton, Texas", "Madison, Wisconsin", "Reno, Nevada", "Harrisburg, Pennsylvania", "Little Rock, Arkansas", "Oakland, California", "Durham, North Carolina", "Winston-Salem, North Carolina", "Bonita Springs, Florida", "Indio, California", "Palm Coast, Florida", "Chattanooga, Tennessee", "Spokane, Washington", "Syracuse, New York", "Lancaster, Pennsylvania", "Arlington, Texas", "Stockton, California", "Poughkeepsie, New York", "Augusta, Georgia", "Boise, Idaho", "Oxnard, California", "Scranton, Pennsylvania", "Modesto, California", "Kissimmee, Florida", "Aurora, Colorado", "Youngstown, Ohio", "Fayetteville, Arkansas", "Anaheim, California", "Pensacola, Florida", "Victorville, California", "Lancaster, California", "Greensboro, North Carolina", "Corpus Christi, Texas", "Fort Wayne, Indiana", "Santa Ana, California", "Flint, Michigan", "San Juan, Puerto Rico", "Fayetteville, North Carolina", "Jackson, Mississippi", "Santa Rosa, California", "Lansing, Michigan", "Ann Arbor, Michigan", "Henderson, Nevada", "Huntsville, Alabama", "Lexington, Kentucky", "Mobile, Alabama", "Fort Collins, Colorado", "Asheville, North Carolina", "Santa Clarita, California", "St. Paul, Minnesota", "Antioch, California", "Lakeland, Florida", "Trenton, New Jersey", "Lincoln, Nebraska", "Springfield, Missouri", "Plano, Texas", "Irvine, California", "Davenport, Iowa", "Rockford, Illinois", "Newark, New Jersey", "South Bend, Indiana", "Shreveport, Louisiana", "Round Lake Beach, Illinois", "Savannah, Georgia", "Myrtle Beach, South Carolina", "Chula Vista, California", "Eugene, Oregon", "Canton, Ohio", "Lubbock, Texas", "Reading, Pennsylvania", "Winter Haven, Florida", "Salem, Oregon", "St. Petersburg, Florida", "Lafayette, Louisiana", "Laredo, Texas", "Jersey City, New Jersey", "Concord, North Carolina", "Columbus, Georgia", "Chandler, Arizona", "McKinney, Texas", "Scottsdale, Arizona", "Killeen, Texas", "Tallahassee, Florida", "Peoria, Illinois", "Wilmington, North Carolina", "Montgomery, Alabama", "Gilbert, Arizona", "Glendale, Arizona", "North Las Vegas, Nevada", "Anchorage, Alaska", "Chesapeake, Virginia", "Barnstable Town, Massachusetts", "Norfolk, Virginia", "Fremont, California", "Kennewick, Washington", "Garland, Texas", "Irving, Texas", "Visalia, California", "Atlantic City, New Jersey", "Nashua, New Hampshire", "Paradise, Nevada", "Hialeah, Florida", "York, Pennsylvania", "Arlington, Virginia", "Evansville, Indiana", "Avondale, Arizona", "Brownsville, Texas", "Gulfport, Mississippi", "Appleton, Wisconsin", "Bremerton, Washington", "Hickory, North Carolina", "Tacoma, Washington", "San Bernardino, California", "College Station, Texas", "Kalamazoo, Michigan", "Thousand Oaks, California", "Roanoke, Virginia", "Fontana, California", "Moreno Valley, California", "North Port, Florida", "Fargo, North Dakota", "Green Bay, Wisconsin", "Amarillo, Texas", "Portland, Maine", "Santa Barbara, California", "Gainesville, Florida", "Olympia, Washington", "Frisco, Texas", "Yonkers, New York", "Norwich, Connecticut", "Spring Valley, Nevada", "Glendale, California", "Huntington Beach, California", "Deltona, Florida", "Aurora, Illinois", "Tempe, Arizona", "Overland Park, Kansas", "Grand Prairie, Texas", "Sunrise Manor, Nevada", "Waco, Texas", "Salinas, California", "Waterbury, Connecticut", "Clarksville, Tennessee", "Cedar Rapids, Iowa", "Sioux Falls, South Dakota", "Huntington, West Virginia", "Ontario, California", "Hagerstown, Maryland", "Erie, Pennsylvania", "Vancouver, Washington", "Nampa, Idaho", "Spartanburg, South Carolina", "Gastonia, North Carolina", "Fort Lauderdale, Florida", "Lorain, Ohio", "Murfreesboro, Tennessee", "High Point, North Carolina", "Newport News, Virginia", "Rancho Cucamonga, California", "Hemet, California", "Santa Cruz, California", "Danbury, Connecticut", "Peoria, Arizona", "Oceanside, California", "Elk Grove, California", "Pembroke Pines, Florida", "Vallejo, California", "Garden Grove, California", "Medford, Oregon", "Cary, North Carolina", "Marysville, Washington", "Corona, California", "Ocala, Florida", "Fredericksburg, Virginia", "Gainesville, Georgia", "Bayamon, Puerto Rico", "Enterprise, Nevada", "Manchester, New Hampshire", "Champaign, Illinois", "Alexandria, Virginia", "Hayward, California", "Springfield, Illinois", "Lakewood, Colorado", "Lafayette, Indiana", "Frederick, Maryland", "Lake Charles, Louisiana", "Odessa, Texas", "Tuscaloosa, Alabama", "Warner Robins, Georgia", "Palmdale, California", "Hollywood, Florida", "Midland, Texas", "Leesburg, Florida", "Port Arthur, Texas", "Muskegon, Michigan", "Macon, Georgia", "Kansas City, Kansas", "Sunnyvale, California", "Pomona, California", "Escondido, California", "Pasadena, Texas", "New Bedford, Massachusetts", "Fairfield, California", "Naperville, Illinois", "Bellevue, Washington", "Binghamton, New York", "Elkhart, Indiana", "Topeka, Kansas", "Joliet, Illinois", "Beaumont, Texas", "Paterson, New Jersey", "Merced, California", "Pueblo, Colorado", "Tyler, Texas", "Torrance, California", "Metairie, Louisiana", "Yuma, Arizona", "Surprise, Arizona", "Columbia, Missouri", "Athens, Georgia", "Roseville, California", "Thornton, Colorado", "Miramar, Florida", "Pasadena, California", "Mesquite, Texas", "Olathe, Kansas", "Santa Maria, California", "Houma, Louisiana", "Carolina, Puerto Rico", "Carrollton, Texas", "Grand Junction, Colorado", "Charleston, West Virginia", "Orange, California", "Fullerton, California", "Greeley, Colorado", "Las Cruces, New Mexico", "Panama City, Florida", "Harlingen, Texas", "West Valley City, Utah", "Hampton, Virginia", "Warren, Michigan", "Mauldin, South Carolina", "Bloomington, Illinois", "Coral Springs, Florida", "Round Rock, Texas", "Yakima, Washington", "Sterling Heights, Michigan", "Kent, Washington", "Burlington, North Carolina", "Bellingham, Washington", "Santa Clara, California", "Racine, Wisconsin", "Greenville, North Carolina", "Stamford, Connecticut", "Elizabeth, New Jersey", "Johnson City, Tennessee", "Lynchburg, Virginia", "Simi Valley, California", "Fort Smith, Arkansas", "Kenosha, Wisconsin", "South Lyon, Michigan", "Boulder, Colorado", "Pearland, Texas", "Berkeley, California", "Richardson, Texas", "Redding, California", "Arvada, Colorado", "St. George, Utah", "Billings, Montana", "Yuba City, California", "Rochester, Minnesota", "East Los Angeles, California", "Leominster, Massachusetts", "Kingsport, Tennessee", "Duluth, Minnesota", "Lehigh Acres, Florida", "Rock Hill, South Carolina", "Gilroy, California", "Cambridge, Massachusetts", "Sugar Land, Texas", "Texas City, Texas", "Iowa City, Iowa", "Saginaw, Michigan", "Chico, California", "Dover, Delaware", "Norman, Oklahoma", "Clearwater, Florida", "Coeur d'Alene, Idaho", "Ponce, Puerto Rico", "Seaside, California", "Independence, Missouri", "West Jordan, Utah", "Abilene, Texas", "Bloomington, Indiana", "El Monte, California", "Carlsbad, California", "North Charleston, South Carolina", "St. Cloud, Minnesota", "Temecula, California", "Clovis, California", "Meridian, Idaho", "Brandon, Florida", "Westminster, Colorado", "Costa Mesa, California", "Monroe, Louisiana", "Utica, New York", "Pompano Beach, Florida", "West Palm Beach, Florida", "Waterloo, Iowa", "Everett, Washington", "El Centro, California", "Santa Fe, New Mexico", "Downey, California", "Lowell, Massachusetts", "Centennial, Colorado", "Elgin, Illinois", "Richmond, California", "Broken Arrow, Oklahoma", "Miami Gardens, Florida", "The Woodlands, Texas", "Bend, Oregon", "Burlington, Vermont", "Jurupa Valley, California", "Sandy Springs, Georgia", "Gresham, Oregon", "Lewisville, Texas", "Hillsboro, Oregon", "San Buenaventura, California", "Jacksonville, North Carolina", "Pottstown, Pennsylvania", "Inglewood, California", "Spring Hill, Florida", "League City, Texas", "Eau Claire, Wisconsin", "Turlock, California", "Temple, Texas", "Sioux City, Iowa", "Salisbury, Maryland", "Davie, Florida", "Daly City, California", "Allen, Texas", "Highlands Ranch, Colorado", "West Covina, California", "Sparks, Nevada", "San Mateo, California", "Norwalk, California", "Columbia, Maryland", "Rialto, California", "Manteca, California", "El Cajon, California", "Burbank, California", "Longmont, Colorado", "Renton, Washington", "Vista, California", "Logan, Utah", "Prescott Valley, Arizona", "Vacaville, California", "Edinburg, Texas", "Carmel, Indiana", "Spokane Valley, Washington", "San Angelo, Texas", "La Crosse, Wisconsin", "Arden-Arcade, California", "Idaho Falls, Idaho", "Holland, Michigan", "Charlottesville, Virginia", "Longview, Texas", "Tracy, California", "Boca Raton, Florida", "Lafayette, Colorado", "Wichita Falls, Texas", "Rio Rancho, New Mexico", "South Fulton, Georgia", "Beaverton, Oregon", "Lawrence, Kansas", "Bismarck, North Dakota", "Orem, Utah", "Middletown, Ohio", "San Marcos, California", "Sandy, Utah", "Federal Way, Washington", "Mandeville, Louisiana", "Hesperia, California", "Brockton, Massachusetts", "Compton, California", "Fishers, Indiana", "Sunrise, Florida", "Bowling Green, Kentucky", "Roswell, Georgia", "Menifee, California", "Plantation, Florida", "Dover, New Hampshire", "Quincy, Massachusetts", "Portsmouth, Virginia", "Chino, California", "Lynn, Massachusetts", "Edmond, Oklahoma", "Hanford, California", "Dearborn, Michigan", "Livonia, Michigan", "South Gate, California", "Vineland, New Jersey", "San Tan Valley, Arizona", "Florence, South Carolina", "Portsmouth, New Hampshire",];
    $(".userInput").autocomplete({
        source: availableTags
    });
});